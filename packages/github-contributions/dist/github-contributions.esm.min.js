/*!
 * @githubjs/github-contributions v1.1.5
 * (c) 2014-2020 Ying Wang <upcwangying@gmail.com> (https://github.com/upcwangying)
 * Released under the MIT License.
 */
const t=require("request-promise"),r=require("cheerio"),e=require("./model/index.js"),o={uri:"https://github.com/trending",transform:t=>r.load(t)};module.exports={Contribution:e,getContributions:(r,{from:n,to:i}={})=>new Promise((l,s)=>{if(!r)throw new Error("login must not be null");let u=`https://github.com/${r}`;null!=n&&null!=i&&(u+=`?from=${n}&to=${i}`),t({...o,uri:u}).then(t=>{if(!t)return void s("response is null!");const r=[];t(".js-calendar-graph-svg rect").each((o,n)=>{r.push(new e({color:t(n).attr("fill"),count:parseInt(t(n).attr("data-count"),10),date:t(n).attr("data-date")}))}),l(r)}).catch(t=>{s(t)})}),getContributionsSvg:(r,{keepDateText:e=!1,from:n,to:i})=>new Promise((e,l)=>{if(!r)throw new Error("login must not be null");let s=`https://github.com/${r}`;null!=n&&null!=i&&(s+=`?from=${n}&to=${i}`),t({...o,uri:s}).then(t=>{if(!t)return void l("response is null!");const r=t(".js-calendar-graph-svg");e(r.html())}).catch(t=>{l(t)})})};
